

<div id="six" class="tab-pane">aod
	<table class="eSize">
		<thead>
			<tr>
				<th>组织</th>
				<th>部门</th>
				<th>角色</th>
				<th>人员</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree1"></ul>
					</div>
				</td>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree2"></ul>
					</div>
				</td>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree3"></ul>
					</div>
				</td>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree4"></ul>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<table class="eSize">
		<thead>
			<tr>
				<th>权限</th>
				<th>菜单</th>
				<th>页面元素</th>
				<th>功能操作</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree5"></ul>
					</div>
				</td>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree6"></ul>
					</div>
				</td>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree7"></ul>
					</div>
				</td>
				<td>
					<div class="col-xs-2 tree">
						<ul class="ztree" id="ztree8"></ul>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>


<script type="text/javascript">
var zNodes = [
     		 { id: 1, pId: 0, name: "父节点1" },
     		 { id: 11, pId: 1, name: "父节点11" },
     		 { id: 111, pId: 11, name: "叶子节点111" },
     		 { id: 112, pId: 11, name: "叶子节点112" },
     		 { id: 113, pId: 11, name: "叶子节点113" },
     		 { id: 114, pId: 11, name: "叶子节点114" },
     		 { id: 12, pId: 1, name: "父节点12" },
     		 { id: 121, pId: 12, name: "叶子节点121" },
     		 { id: 122, pId: 12, name: "叶子节点122" },
     		 { id: 123, pId: 12, name: "叶子节点123" },
     		 { id: 124, pId: 12, name: "叶子节点124" },
     		 { id: 13, pId: 1, name: "父节点13", isParent: true },
     		 { id: 2, pId: 0, name: "父节点2" },
     		 { id: 21, pId: 2, name: "父节点21" },
     		 { id: 211, pId: 21, name: "叶子节点211" },
     		 { id: 212, pId: 21, name: "叶子节点212" },
     		 { id: 213, pId: 21, name: "叶子节点213" },
     		 { id: 214, pId: 21, name: "叶子节点214" },
     		 { id: 22, pId: 2, name: "父节点22" },
     		 { id: 221, pId: 22, name: "叶子节点221" },
     		 { id: 222, pId: 22, name: "叶子节点222" },
     		 { id: 223, pId: 22, name: "叶子节点223" },
     		 { id: 224, pId: 22, name: "叶子节点224" },
     		 { id: 23, pId: 2, name: "父节点23" },
     		 { id: 231, pId: 23, name: "叶子节点231" },
     		 { id: 232, pId: 23, name: "叶子节点232" },
     		 { id: 233, pId: 23, name: "叶子节点233" },
     		 { id: 234, pId: 23, name: "叶子节点234" },
     		 { id: 3, pId: 0, name: "父节点3", isParent: true }
     	];
$(function(){
	$.ajax({type: "GET",async:true,url: '${CONTEXTPATH }/chinas',data:{},dataType:'json',
        success: function(data){
        	var zTreeObj1 = initZtree('ztree1',data.list);
       },
       error : function(data){
    	  
       }
   });
	
});
     	
function initZtree(id,zNodes){
	var setting = {
			 view: {
				 enable : true,  
				 showLine : true,  
				 showIcon : showIconForTreeRight,  
				 addHoverDom: addHoverDom,
				 removeHoverDom: removeHoverDom
			 },
			 check: {
			 	enable: true
			 },
			 data: {
				 simpleData: {
				  	enable: true
				 }
			 },
			 callback : {  
			        onClick : zTreeOnClickRight,  
			        beforeRemove: beforeRemove,  
			        onRename: zTreeOnRename,  
			        onRemove: zTreeOnRemove,  
			 },  
			 edit: {
				enable: true,  
		        showRemoveBtn :true,  
		        showRenameBtn :true,  
		        removeTitle :"删除",  
		        renameTitle :"修改"  
			 }
	};

	function showIconForTreeRight(treeId, treeNode) {  
	    return !treeNode.isParent;  
	}
	function zTreeOnClickRight(event, treeId, treeNode) {  
	    var treeid = zTreeObj.getSelectedNodes()[0].id;  
	    var treepid = zTreeObj.getSelectedNodes()[0].pId;  
	    var treename = zTreeObj.getSelectedNodes()[0].name;  
	}
	  //修改
	function zTreeOnRename(event, treeId, treeNode, isCancel) {  
	    $.post('updateNode.action', {  
	        'classification.id': $.trim(treeNode.id),  
	        'classification.perId': $.trim(treeNode.pId),  
	        'classification.classification': treeNode.name  
	    }, function(data, textStatus, xhr) {  
	        if (textStatus == "success") {  
	        	alert("修改成功");  
	        } else {  
	        	alert("修改失败");  
	        }  
	    });  
	}  
	  //删除
	function zTreeOnRemove(event, treeId, treeNode) {  
		  
	}
	

	this.newCount = 1;
	//添加
	function addHoverDom(treeId, treeNode) {  
	    var sObj = $("#" + treeNode.tId + "_span");  
	    
	    var addBtn = $("#addBtn_" + treeNode.tId);
	    if (treeNode.editNameFlag || addBtn.length > 0) return;  
	    var addStr = "<span class='button add' id='addBtn_" + treeNode.tId + "' title='新增' onfocus='this.blur();'></span>";  
	  
	    sObj.after(addStr);  
	    var btn = $("#addBtn_" + treeNode.tId);  
	  
	    if (btn) btn.bind("click", function() {  
	        var name = "新增节点" + (newCount++); 
            if ("success" == "success") {  
                var newID = '1000';  
                zTreeObj.addNodes(treeNode, {  
                    id: newID,  
                    pId: treeNode.id,  
                    name: name  
                });  
                var node = zTreeObj.getNodeByParam("id", newID, null); //根据新的id找到新添加的节点  
                zTreeObj.selectNode(node); //让新添加的节点处于选中状态+  
            } else {  
            	alert("加载错误");  
            }  
	  
	        return false;  
	    });  
	}  
	function removeHoverDom(treeId, treeNode) {  
	    $("#addBtn_"+treeNode.tId).unbind().remove();  
	} 
	function beforeRemove(treeId, treeNode) {  
	    if(treeNode.isParent){  
	    	alert("请先删除子节点");  
	        return false;  
	    }         
	    return alert("确认删除 节点 -- " + treeNode.name + " 吗？");  
	}  
 
	/** 
	 * 显示ztree 
	 */  
	$("#addcla").click(function(){  
	    var name = "新增根节点" + (newCount++);  
        var newID = data;  
        zTreeObj.addNodes(null, {  
            id: newID,  
            name: name  
        });  
        var node = zTreeObj.getNodeByParam("id", newID, null); //根据新的id找到新添加的节点  
        zTreeObj.selectNode(node); //让新添加的节点处于选中状态+ 
	})
	
    var zTreeObj = $.fn.zTree.init($("#"+id), setting, zNodes);  
    //zTreeObj.expandAll(true);  
    return zTreeObj;
}
//$.fn.zTree.init($("#treeDemo"), setting, zNodes); 
		

$(function(){
	var ids = ['ztree1','ztree2','ztree3','ztree4','ztree5','ztree6','ztree7','ztree8'];

	var zTreeObj2 = initZtree('ztree2',zNodes);
	var zTreeObj3 = initZtree('ztree3',zNodes);
	var zTreeObj4 = initZtree('ztree4',zNodes);
	var zTreeObj5 = initZtree('ztree5',zNodes);
	var zTreeObj6 = initZtree('ztree6',zNodes);
	var zTreeObj7 = initZtree('ztree7',zNodes);
	var zTreeObj8 = initZtree('ztree8',zNodes);
	
	
});

<!-- 树节点搜索功能 -->
function searchNodes(name){
	if (name.length > 0) {
        var zTree = $.fn.zTree.getZTreeObj("treeDemo");
        var nodeList = zTree.getNodesByParamFuzzy("name", name);
        $.fn.zTree.init($("#treeDemo"), setting, nodeList);
    }     
}

</script>
